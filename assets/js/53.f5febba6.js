(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{385:function(a,e,t){"use strict";t.r(e);var s=t(8),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"分支说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分支说明"}},[a._v("#")]),a._v(" 分支说明")]),a._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://github.com/oddfar/campus-imaotai",target:"_blank",rel:"noopener noreferrer"}},[a._v("master"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("主分支")])]),a._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://github.com/oddfar/campus-imaotai/tree/dev",target:"_blank",rel:"noopener noreferrer"}},[a._v("dev"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("开发分支")])])]),a._v(" "),e("h3",{attrs:{id:"sqlite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sqlite"}},[a._v("#")]),a._v(" sqlite")]),a._v(" "),e("p",[a._v("分支地址："),e("a",{attrs:{href:"https://github.com/oddfar/campus-imaotai/tree/sqlite",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/oddfar/campus-imaotai/tree/sqlite"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("新增SQLite数据库支持，只需修改配置文件即可无缝切换")]),a._v(" "),e("p",[a._v("MySQL可切换为轻量的本地数据库SQLite，Redis可切换为JVM本地缓存；")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("切换 URL 为本地 SQLite 文件地址：")]),a._v(" "),e("div",{staticClass:"language-plaintext line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plaintext"}},[e("code",[a._v("spring.datasource.dynamic.datasource.master.url = jdbc:sqlite:/home/campus/data/sqlite/imaotai.db\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("切换 driverClassName 为 SQLite 驱动：")]),a._v(" "),e("div",{staticClass:"language-plaintext line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plaintext"}},[e("code",[a._v("spring.datasource.dynamic.datasource.master.driverClassName = org.sqlite.JDBC\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("SQLite 无需账号密码，注释掉 username、password 配置项。")])]),a._v(" "),e("li",[e("p",[a._v("解决 SQLITE_BUSY 错误处理，将最大线程数改为 1。如果使用 MySQL 数据库，可以根据需要修改为自定义数量。")]),a._v(" "),e("div",{staticClass:"language-plaintext line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plaintext"}},[e("code",[a._v("spring.datasource.dynamic.hikari.maxPoolSize = 1\nspring.datasource.dynamic.hikari.minIdle = 1\nspring.datasource.dynamic.hikari.connectionTimeout = 300000\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("切换本地缓存，true 表示禁用 Redis。如果不添加该配置，默认为 false。")]),a._v(" "),e("div",{staticClass:"language-plaintext line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plaintext"}},[e("code",[a._v("spring.redis.disabled = true\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("p",[a._v("详情可见："),e("a",{attrs:{href:"https://github.com/oddfar/campus-imaotai/pull/375",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/oddfar/campus-imaotai/pull/375"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);